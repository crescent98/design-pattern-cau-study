# 데코레이팅 패턴

객체 지향 원칙

- OCP (Open Closed Principle)
    - 객체는 확장에는 열려있고
    - 변경에는 닫혀 있다
    

# 데코레이팅 패턴

## 정의

데코레이팅 패턴이란?

상위 클래스(?)를 장식하면서 개발하는 것

비슷한 구조의 클래스를 상속하고 런타임에서 추가하는 것

객체에 추가 요소를 동적으로 더할 수 있습니다.

데코레이터를 사용하면 서브클래스를 만들 때보다 훨씬 유연하게 기능을 확장할 수 있습니다

![Untitled](%E1%84%83%E1%85%A6%E1%84%8F%E1%85%A9%E1%84%85%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%B5%E1%86%BC%20%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB%20f74582b1ce4f4e2389ac7f89eaca36b4/Untitled.png)

### 언제 사용하면 좋은지

~~많이 변화하는 곳에서~~

가장 바뀔 가능성이 높은 부분을 중점적으로 살펴보고 OCP를 적용하는 방법이 가장 좋습니다.

## 예시

스타벅스

기존

```java
public class Beverage {

	public String descripion() {

	}
	
	public int cost(){
	
	}
}

```

이런 형식의 Beverage 를 계속 확장하면서 cost 를 override 하여 복잡하게 코드를 짬

→ 음료마다 클래스를 두게 되니, 음료가 엄청 증가했을 경우에는 감당이 불가능 했음

**방법**

우선 가장 외곽에 있는 메소드부터 호출

→ 장식하는 클래스의 다음 메소드를 호출

→ 장식하는 클래스의 다음 메소드를 호출

## 상속과 구성 문제

데코레이터 형식이 그 데코레이터로 감싸는 객체의 형식과 같다는 점이 중요함

→ 원래 있던 구성 요소가 들어갈 자리에 자기가 들어갈 수 있어야 하니까

행동을 상속 받으려고 서브클래스를 만든 게 아니라 형식을 맞추려고 한 것

행동은 기본 구성 요소와는 다른 데코레이터 등을 인스턴스 변수에 저장하는 식으로 연결한 것

구성을 활용하면 실행 중에 데코레이터를 마음대로 조합해서 사용할 수 있는 장점이 있음

실행 중에 데코레이터를 마음대로 조합해서 사용할 수 있다는 장점?

미리 어떤 커피를 만드는 게 아니라 조합하면서 커피를 생성

**장점**

- OCP 원칙을 지키게 됨 → 확장에는 열려 있고, 추가에는 닫혀 있음

**단점**

- 데코레이터에 해당하는 클래스가 너무 많아짐

- Java Swing I/O 등

---

궁금한 점

- 추상 구성과 구상 구성의 차이점
- 파이썬 데코레이터는 데코레이팅 패턴?

추가적으로 생각된 점

파이썬에서 객체를 상속하면서

`super().__init__()` 을 사용하는 게 데코레이팅 패턴이랑 유사하진 않은지?